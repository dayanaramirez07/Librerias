import { CommonModule } from '@angular/common';
import { Component, EventEmitter, HostListener, Input, Output } from '@angular/core';
import { FormsModule } from '@angular/forms';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/forms";
export class PaginacionComponent {
    constructor() {
        this.paginas = [];
        this.cantidadVisible = 25;
        this.cantidadElementos = 0;
        this.cantidadTotalElementos = 0;
        this.nombreElementos = '';
        this.cantidadSeleccionada = new EventEmitter();
        this.paginaSeleccionada = new EventEmitter();
        /**
         * Propiedades de visualización de botones,
         * inicio y fin son las posiciones (NO los items)
         */
        this.inicioVisible = 0;
        this.paginaActual = 1;
        this.finVisible = 2;
        this.labels = {
            todosElementos: 'Todos',
            paginaActual: '',
            elementosVisibles: ''
        };
    }
    ngOnInit() {
        this.establecerBotonesVisibles();
    }
    onResize(event) {
        this.establecerBotonesVisibles();
        this.actualizarLabels();
    }
    iniciarPaginacion(cantidadTotal, cantidadActual, cantidadPaginas) {
        this.cantidadTotalElementos = cantidadTotal;
        this.cantidadElementos = cantidadActual;
        this.paginas = [];
        this.cantidadVisible = this.cantidadTotalElementos >= this.cantidadVisible
            ? this.cantidadVisible
            : 0;
        for (let index = 0; index < cantidadPaginas; index++) {
            this.paginas.push(index + 1);
        }
        this.actualizarLabels();
    }
    actualizarLabels() {
        const esPantallaMediana = window.innerWidth <= 800;
        if (this.paginas.length > 0) {
            let cantidadInicial = (this.cantidadElementos * (this.paginaActual - 1)) + 1;
            let cantidadFinal = this.cantidadElementos * this.paginaActual;
            this.labels.paginaActual = `${cantidadInicial} - ${cantidadFinal} de ${this.cantidadTotalElementos}`;
        }
        else {
            this.labels.paginaActual = '';
        }
        this.labels.elementosVisibles = esPantallaMediana ? `${this.nombreElementos}` : `${this.nombreElementos} por página`;
    }
    seleccionarPagina(pagina) {
        this.paginaActual = pagina;
        const posicionActual = this.paginaActual - 1;
        this.onPaginaSeleccionada();
        const esPantallaGrande = window.innerWidth >= 720;
        const esPantallaMediana = window.innerWidth >= 620 && window.innerWidth < 720;
        const primeraPagina = this.paginaActual === 1;
        const ultimaPagina = this.paginaActual === this.obtenerUltimaPagina();
        if (primeraPagina) {
            this.inicioVisible = 0;
            this.finVisible = Math.min(this.paginas.length - 1, esPantallaGrande ? 2 : esPantallaMediana ? 1 : 0);
        }
        else if (ultimaPagina) {
            this.finVisible = posicionActual;
            this.inicioVisible = Math.max(0, esPantallaGrande ? posicionActual - 2 : esPantallaMediana ? posicionActual - 1 : posicionActual);
        }
        else {
            this.inicioVisible = esPantallaGrande ? posicionActual - 1 : posicionActual;
            this.finVisible = this.inicioVisible + (esPantallaGrande ? 2 : esPantallaMediana ? 1 : 0);
        }
    }
    moverPagina(derecha) {
        let posicion = this.paginaActual - 1;
        if (derecha) {
            posicion += 1;
        }
        else {
            posicion -= 1;
        }
        this.seleccionarPagina(this.paginas[posicion]);
    }
    obtenerUltimaPagina() {
        return this.paginas[(this.paginas.length - 1)];
    }
    onCantidadSeleccionada() {
        this.paginaActual = 1;
        this.inicioVisible = 0;
        this.establecerBotonesVisibles();
        this.cantidadSeleccionada.emit(this.cantidadVisible);
        this.onPaginaSeleccionada();
    }
    onPaginaSeleccionada() {
        this.paginaSeleccionada.emit(this.paginaActual);
    }
    establecerBotonesVisibles() {
        if (window.innerWidth >= 720) {
            this.finVisible = 2;
        }
        else if (window.innerWidth >= 620) {
            this.finVisible = 1;
        }
        else {
            this.finVisible = 0;
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: PaginacionComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: PaginacionComponent, isStandalone: true, selector: "app-paginacion", inputs: { nombreElementos: "nombreElementos" }, outputs: { cantidadSeleccionada: "cantidadSeleccionada", paginaSeleccionada: "paginaSeleccionada" }, host: { listeners: { "window:resize": "onResize($event)" } }, ngImport: i0, template: "<div id=\"paginacion\" class=\"columns is-mobile\">\r\n\r\n    <div class=\"column is-4 is-align-self-center elementos-visibles\">\r\n        <div class=\"field has-addons\">\r\n            <div class=\"control select is-small mr-1 is-align-self-center\">\r\n                <select name=\"cantidad\" [(ngModel)]=\"cantidadVisible\" (change)=\"onCantidadSeleccionada()\">\r\n                    <option *ngIf=\"cantidadTotalElementos >= 25\" [ngValue]=\"25\">25</option>\r\n                    <option *ngIf=\"cantidadTotalElementos >= 50\" [ngValue]=\"50\">50</option>\r\n                    <option *ngIf=\"cantidadTotalElementos >= 100\" [ngValue]=\"100\">100</option>\r\n                    <option [ngValue]=\"0\">{{labels.todosElementos}}</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"control is-align-self-center\" [ngClass]=\"cantidadVisible == 0 ? 'is-hidden' : ''\">\r\n                <label class=\"is-size-7-mobile\" [innerHTML]=\"labels.elementosVisibles\"></label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"column is-align-self-center column-buttons\"\r\n        [ngStyle]=\"{'visibility': paginas.length <= 1 ? 'hidden' : 'visible', 'margin-top': paginas.length <= 1 ? '-3rem' : '0'}\">\r\n\r\n        <div class=\"buttons has-addons is-centered\">\r\n\r\n            <button class=\"button is-small\" [disabled]=\"paginaActual == 1\" (click)=\"seleccionarPagina(1)\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-angle-double-left\"></i>\r\n                </span>\r\n            </button>\r\n\r\n            <button class=\"button is-small\" (click)=\"moverPagina(false)\" [disabled]=\"paginaActual == 1\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-chevron-left\"></i>\r\n                </span>\r\n            </button>\r\n\r\n            <div class=\"control\" *ngFor=\"let item of paginas; let i = index\">\r\n                <button *ngIf=\"i >= inicioVisible && i <= finVisible\" class=\"button is-small\"\r\n                    [ngClass]=\"paginaActual == item ? 'is-primary' : ''\" (click)=\"seleccionarPagina(item)\">\r\n                    {{item.toString()}}\r\n                </button>\r\n            </div>\r\n\r\n            <button class=\"button is-small\" (click)=\"moverPagina(true)\"\r\n                [disabled]=\"paginaActual == obtenerUltimaPagina()\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-chevron-right\"></i>\r\n                </span>\r\n            </button>\r\n\r\n            <button class=\"button is-small\" [disabled]=\"paginaActual == paginas[paginas.length - 1]\"\r\n                (click)=\"seleccionarPagina(obtenerUltimaPagina())\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-angle-double-right\"></i>\r\n                </span>\r\n            </button>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"column is-4 pagina-actual is-align-self-center\">\r\n        <p class=\"has-text-right is-size-7-mobile\" [innerHTML]=\"labels.paginaActual\"></p>\r\n    </div>\r\n\r\n</div>", styles: [".columns{-webkit-box-shadow:-2px -4px 3px -2px rgba(217,217,217,1);-moz-box-shadow:-2px -4px 3px -2px rgba(217,217,217,1);box-shadow:-2px -4px 3px -2px #d9d9d9;background-color:var(--neutroLuz);margin:0 0 1px}.pagination-link.is-current{background-color:var(--principal);border-color:var(--principal)!important;color:#fff}.pagination-ellipsis{color:gray}.pagina-actual{display:flex;vertical-align:middle;justify-content:flex-end;align-content:flex-end;border-style:solid;border-color:var(--neutroLuz)}.pagina-actual>p{border-style:solid;border-color:var(--neutroLuz)}@media only screen and (max-width: 524px){.elementos-visibles>.field{flex-direction:column}.is-4{width:25%!important}}@media only screen and (max-width: 400px){.elementos-visibles{display:flex;align-items:flex-start}.column-buttons{display:flex;justify-content:flex-end}.pagina-actual{display:none}}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i2.NgSelectOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i2.ɵNgSelectMultipleOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i2.SelectControlValueAccessor, selector: "select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]", inputs: ["compareWith"] }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: PaginacionComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-paginacion', standalone: true, imports: [
                        CommonModule,
                        FormsModule
                    ], template: "<div id=\"paginacion\" class=\"columns is-mobile\">\r\n\r\n    <div class=\"column is-4 is-align-self-center elementos-visibles\">\r\n        <div class=\"field has-addons\">\r\n            <div class=\"control select is-small mr-1 is-align-self-center\">\r\n                <select name=\"cantidad\" [(ngModel)]=\"cantidadVisible\" (change)=\"onCantidadSeleccionada()\">\r\n                    <option *ngIf=\"cantidadTotalElementos >= 25\" [ngValue]=\"25\">25</option>\r\n                    <option *ngIf=\"cantidadTotalElementos >= 50\" [ngValue]=\"50\">50</option>\r\n                    <option *ngIf=\"cantidadTotalElementos >= 100\" [ngValue]=\"100\">100</option>\r\n                    <option [ngValue]=\"0\">{{labels.todosElementos}}</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"control is-align-self-center\" [ngClass]=\"cantidadVisible == 0 ? 'is-hidden' : ''\">\r\n                <label class=\"is-size-7-mobile\" [innerHTML]=\"labels.elementosVisibles\"></label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"column is-align-self-center column-buttons\"\r\n        [ngStyle]=\"{'visibility': paginas.length <= 1 ? 'hidden' : 'visible', 'margin-top': paginas.length <= 1 ? '-3rem' : '0'}\">\r\n\r\n        <div class=\"buttons has-addons is-centered\">\r\n\r\n            <button class=\"button is-small\" [disabled]=\"paginaActual == 1\" (click)=\"seleccionarPagina(1)\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-angle-double-left\"></i>\r\n                </span>\r\n            </button>\r\n\r\n            <button class=\"button is-small\" (click)=\"moverPagina(false)\" [disabled]=\"paginaActual == 1\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-chevron-left\"></i>\r\n                </span>\r\n            </button>\r\n\r\n            <div class=\"control\" *ngFor=\"let item of paginas; let i = index\">\r\n                <button *ngIf=\"i >= inicioVisible && i <= finVisible\" class=\"button is-small\"\r\n                    [ngClass]=\"paginaActual == item ? 'is-primary' : ''\" (click)=\"seleccionarPagina(item)\">\r\n                    {{item.toString()}}\r\n                </button>\r\n            </div>\r\n\r\n            <button class=\"button is-small\" (click)=\"moverPagina(true)\"\r\n                [disabled]=\"paginaActual == obtenerUltimaPagina()\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-chevron-right\"></i>\r\n                </span>\r\n            </button>\r\n\r\n            <button class=\"button is-small\" [disabled]=\"paginaActual == paginas[paginas.length - 1]\"\r\n                (click)=\"seleccionarPagina(obtenerUltimaPagina())\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-angle-double-right\"></i>\r\n                </span>\r\n            </button>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"column is-4 pagina-actual is-align-self-center\">\r\n        <p class=\"has-text-right is-size-7-mobile\" [innerHTML]=\"labels.paginaActual\"></p>\r\n    </div>\r\n\r\n</div>", styles: [".columns{-webkit-box-shadow:-2px -4px 3px -2px rgba(217,217,217,1);-moz-box-shadow:-2px -4px 3px -2px rgba(217,217,217,1);box-shadow:-2px -4px 3px -2px #d9d9d9;background-color:var(--neutroLuz);margin:0 0 1px}.pagination-link.is-current{background-color:var(--principal);border-color:var(--principal)!important;color:#fff}.pagination-ellipsis{color:gray}.pagina-actual{display:flex;vertical-align:middle;justify-content:flex-end;align-content:flex-end;border-style:solid;border-color:var(--neutroLuz)}.pagina-actual>p{border-style:solid;border-color:var(--neutroLuz)}@media only screen and (max-width: 524px){.elementos-visibles>.field{flex-direction:column}.is-4{width:25%!important}}@media only screen and (max-width: 400px){.elementos-visibles{display:flex;align-items:flex-start}.column-buttons{display:flex;justify-content:flex-end}.pagina-actual{display:none}}\n"] }]
        }], ctorParameters: () => [], propDecorators: { nombreElementos: [{
                type: Input
            }], cantidadSeleccionada: [{
                type: Output
            }], paginaSeleccionada: [{
                type: Output
            }], onResize: [{
                type: HostListener,
                args: ['window:resize', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnaW5hY2lvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wYWdpbmFjaW9uL3NyYy9saWIvY29tcG9uZW50cy9wYWdpbmFjaW9uL3BhZ2luYWNpb24uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGFnaW5hY2lvbi9zcmMvbGliL2NvbXBvbmVudHMvcGFnaW5hY2lvbi9wYWdpbmFjaW9uLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3RixPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7Ozs7QUFZN0MsTUFBTSxPQUFPLG1CQUFtQjtJQXlCOUI7UUF2QlUsWUFBTyxHQUFhLEVBQUUsQ0FBQztRQUMxQixvQkFBZSxHQUFXLEVBQUUsQ0FBQztRQUM3QixzQkFBaUIsR0FBVyxDQUFDLENBQUM7UUFDOUIsMkJBQXNCLEdBQVcsQ0FBQyxDQUFDO1FBRXZCLG9CQUFlLEdBQVcsRUFBRSxDQUFDO1FBQy9CLHlCQUFvQixHQUF5QixJQUFJLFlBQVksRUFBVSxDQUFDO1FBQ3hFLHVCQUFrQixHQUF5QixJQUFJLFlBQVksRUFBVSxDQUFDO1FBRXZGOzs7V0FHRztRQUNPLGtCQUFhLEdBQVcsQ0FBQyxDQUFDO1FBQzdCLGlCQUFZLEdBQVcsQ0FBQyxDQUFDO1FBQ3RCLGVBQVUsR0FBVyxDQUFDLENBQUM7UUFFdkIsV0FBTSxHQUFHO1lBQ2pCLGNBQWMsRUFBRSxPQUFPO1lBQ3ZCLFlBQVksRUFBRSxFQUFFO1lBQ2hCLGlCQUFpQixFQUFFLEVBQUU7U0FDdEIsQ0FBQztJQUdFLENBQUM7SUFFRSxR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b250ZW50IjpbImltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBIb3N0TGlzdGVuZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnYXBwLXBhZ2luYWNpb24nLFxyXG4gIHN0YW5kYWxvbmU6IHRydWUsXHJcbiAgaW1wb3J0czogW1xyXG4gICAgQ29tbW9uTW9kdWxlLFxyXG4gICAgRm9ybXNNb2R1bGVcclxuICBdLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9wYWdpbmFjaW9uLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9wYWdpbmFjaW9uLmNvbXBvbmVudC5jc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgUGFnaW5hY2lvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gIHByb3RlY3RlZCBwYWdpbmFzOiBudW1iZXJbXSA9IFtdO1xyXG4gIHB1YmxpYyBjYW50aWRhZFZpc2libGU6IG51bWJlciA9IDI1O1xyXG4gIHB1YmxpYyBjYW50aWRhZEVsZW1lbnRvczogbnVtYmVyID0gMDtcclxuICBwdWJsaWMgY2FudGlkYWRUb3RhbEVsZW1lbnRvczogbnVtYmVyID0gMDtcclxuXHJcbiAgQElucHV0KCkgcHJvdGVjdGVkIG5vbWJyZUVsZW1lbnRvczogc3RyaW5nID0gJyc7XHJcbiAgQE91dHB1dCgpIHB1YmxpYyBjYW50aWRhZFNlbGVjY2lvbmFkYTogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcclxuICBAT3V0cHV0KCkgcHVibGljIHBhZ2luYVNlbGVjY2lvbmFkYTogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcclxuXHJcbiAgLyoqXHJcbiAgICogUHJvcGllZGFkZXMgZGUgdmlzdWFsaXphY2nDs24gZGUgYm90b25lcyxcclxuICAgKiBpbmljaW8geSBmaW4gc29uIGxhcyBwb3NpY2lvbmVzIChOTyBsb3MgaXRlbXMpXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIGluaWNpb1Zpc2libGU6IG51bWJlciA9IDA7XHJcbiAgcHVibGljIHBhZ2luYUFjdHVhbDogbnVtYmVyID0gMTtcclxuICBwcm90ZWN0ZWQgZmluVmlzaWJsZTogbnVtYmVyID0gMjtcclxuXHJcbiAgcHJvdGVjdGVkIGxhYmVscyA9IHtcclxuICAgIHRvZG9zRWxlbWVudG9zOiAnVG9kb3MnLFxyXG4gICAgcGFnaW5hQWN0dWFsOiAnJyxcclxuICAgIGVsZW1lbnRvc1Zpc2libGVzOiAnJ1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcclxuICApIHsgfVxyXG5cclxuICBwdWJsaWMgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLmVzdGFibGVjZXJCb3RvbmVzVmlzaWJsZXMoKTtcclxuICB9XHJcblxyXG4gIEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzpyZXNpemUnLCBbJyRldmVudCddKVxyXG4gIG9uUmVzaXplKGV2ZW50OiBhbnkpIHtcclxuICAgIHRoaXMuZXN0YWJsZWNlckJvdG9uZXNWaXNpYmxlcygpO1xyXG4gICAgdGhpcy5hY3R1YWxpemFyTGFiZWxzKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaW5pY2lhclBhZ2luYWNpb24oY2FudGlkYWRUb3RhbDogbnVtYmVyLCBjYW50aWRhZEFjdHVhbDogbnVtYmVyLCBjYW50aWRhZFBhZ2luYXM6IG51bWJlcikge1xyXG4gICAgdGhpcy5jYW50aWRhZFRvdGFsRWxlbWVudG9zID0gY2FudGlkYWRUb3RhbDtcclxuICAgIHRoaXMuY2FudGlkYWRFbGVtZW50b3MgPSBjYW50aWRhZEFjdHVhbDtcclxuICAgIHRoaXMucGFnaW5hcyA9IFtdO1xyXG5cclxuICAgIHRoaXMuY2FudGlkYWRWaXNpYmxlID0gdGhpcy5jYW50aWRhZFRvdGFsRWxlbWVudG9zID49IHRoaXMuY2FudGlkYWRWaXNpYmxlXHJcbiAgICAgID8gdGhpcy5jYW50aWRhZFZpc2libGVcclxuICAgICAgOiAwO1xyXG5cclxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjYW50aWRhZFBhZ2luYXM7IGluZGV4KyspIHtcclxuICAgICAgdGhpcy5wYWdpbmFzLnB1c2goaW5kZXggKyAxKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmFjdHVhbGl6YXJMYWJlbHMoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhY3R1YWxpemFyTGFiZWxzKCkge1xyXG4gICAgY29uc3QgZXNQYW50YWxsYU1lZGlhbmEgPSB3aW5kb3cuaW5uZXJXaWR0aCA8PSA4MDA7XHJcblxyXG4gICAgaWYgKHRoaXMucGFnaW5hcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGxldCBjYW50aWRhZEluaWNpYWwgPSAodGhpcy5jYW50aWRhZEVsZW1lbnRvcyAqICh0aGlzLnBhZ2luYUFjdHVhbCAtIDEpKSArIDE7XHJcbiAgICAgIGxldCBjYW50aWRhZEZpbmFsID0gdGhpcy5jYW50aWRhZEVsZW1lbnRvcyAqIHRoaXMucGFnaW5hQWN0dWFsO1xyXG4gICAgICB0aGlzLmxhYmVscy5wYWdpbmFBY3R1YWwgPSBgJHtjYW50aWRhZEluaWNpYWx9IC0gJHtjYW50aWRhZEZpbmFsfSBkZSAke3RoaXMuY2FudGlkYWRUb3RhbEVsZW1lbnRvc31gO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5sYWJlbHMucGFnaW5hQWN0dWFsID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5sYWJlbHMuZWxlbWVudG9zVmlzaWJsZXMgPSBlc1BhbnRhbGxhTWVkaWFuYSA/IGAke3RoaXMubm9tYnJlRWxlbWVudG9zfWAgOiBgJHt0aGlzLm5vbWJyZUVsZW1lbnRvc30gcG9yIHDDoWdpbmFgO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHNlbGVjY2lvbmFyUGFnaW5hKHBhZ2luYTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnBhZ2luYUFjdHVhbCA9IHBhZ2luYTtcclxuICAgIGNvbnN0IHBvc2ljaW9uQWN0dWFsID0gdGhpcy5wYWdpbmFBY3R1YWwgLSAxO1xyXG5cclxuICAgIHRoaXMub25QYWdpbmFTZWxlY2Npb25hZGEoKTtcclxuXHJcbiAgICBjb25zdCBlc1BhbnRhbGxhR3JhbmRlID0gd2luZG93LmlubmVyV2lkdGggPj0gNzIwO1xyXG4gICAgY29uc3QgZXNQYW50YWxsYU1lZGlhbmEgPSB3aW5kb3cuaW5uZXJXaWR0aCA+PSA2MjAgJiYgd2luZG93LmlubmVyV2lkdGggPCA3MjA7XHJcbiAgICBjb25zdCBwcmltZXJhUGFnaW5hID0gdGhpcy5wYWdpbmFBY3R1YWwgPT09IDE7XHJcbiAgICBjb25zdCB1bHRpbWFQYWdpbmEgPSB0aGlzLnBhZ2luYUFjdHVhbCA9PT0gdGhpcy5vYnRlbmVyVWx0aW1hUGFnaW5hKCk7XHJcblxyXG4gICAgaWYgKHByaW1lcmFQYWdpbmEpIHtcclxuICAgICAgdGhpcy5pbmljaW9WaXNpYmxlID0gMDtcclxuICAgICAgdGhpcy5maW5WaXNpYmxlID0gTWF0aC5taW4odGhpcy5wYWdpbmFzLmxlbmd0aCAtIDEsIGVzUGFudGFsbGFHcmFuZGUgPyAyIDogZXNQYW50YWxsYU1lZGlhbmEgPyAxIDogMCk7XHJcbiAgICB9IGVsc2UgaWYgKHVsdGltYVBhZ2luYSkge1xyXG4gICAgICB0aGlzLmZpblZpc2libGUgPSBwb3NpY2lvbkFjdHVhbDtcclxuICAgICAgdGhpcy5pbmljaW9WaXNpYmxlID0gTWF0aC5tYXgoMCwgZXNQYW50YWxsYUdyYW5kZSA/IHBvc2ljaW9uQWN0dWFsIC0gMiA6IGVzUGFudGFsbGFNZWRpYW5hID8gcG9zaWNpb25BY3R1YWwgLSAxIDogcG9zaWNpb25BY3R1YWwpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5pbmljaW9WaXNpYmxlID0gZXNQYW50YWxsYUdyYW5kZSA/IHBvc2ljaW9uQWN0dWFsIC0gMSA6IHBvc2ljaW9uQWN0dWFsO1xyXG4gICAgICB0aGlzLmZpblZpc2libGUgPSB0aGlzLmluaWNpb1Zpc2libGUgKyAoZXNQYW50YWxsYUdyYW5kZSA/IDIgOiBlc1BhbnRhbGxhTWVkaWFuYSA/IDEgOiAwKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBtb3ZlclBhZ2luYShkZXJlY2hhOiBib29sZWFuKSB7XHJcbiAgICBsZXQgcG9zaWNpb24gPSB0aGlzLnBhZ2luYUFjdHVhbCAtIDE7XHJcblxyXG4gICAgaWYgKGRlcmVjaGEpIHtcclxuICAgICAgcG9zaWNpb24gKz0gMTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBwb3NpY2lvbiAtPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2VsZWNjaW9uYXJQYWdpbmEodGhpcy5wYWdpbmFzW3Bvc2ljaW9uXSk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgb2J0ZW5lclVsdGltYVBhZ2luYSgpIHtcclxuICAgIHJldHVybiB0aGlzLnBhZ2luYXNbKHRoaXMucGFnaW5hcy5sZW5ndGggLSAxKV07XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgb25DYW50aWRhZFNlbGVjY2lvbmFkYSgpIHtcclxuICAgIHRoaXMucGFnaW5hQWN0dWFsID0gMTtcclxuICAgIHRoaXMuaW5pY2lvVmlzaWJsZSA9IDA7XHJcbiAgICB0aGlzLmVzdGFibGVjZXJCb3RvbmVzVmlzaWJsZXMoKTtcclxuXHJcbiAgICB0aGlzLmNhbnRpZGFkU2VsZWNjaW9uYWRhLmVtaXQodGhpcy5jYW50aWRhZFZpc2libGUpO1xyXG4gICAgdGhpcy5vblBhZ2luYVNlbGVjY2lvbmFkYSgpO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIG9uUGFnaW5hU2VsZWNjaW9uYWRhKCkge1xyXG4gICAgdGhpcy5wYWdpbmFTZWxlY2Npb25hZGEuZW1pdCh0aGlzLnBhZ2luYUFjdHVhbCk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgZXN0YWJsZWNlckJvdG9uZXNWaXNpYmxlcygpIHtcclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSA3MjApIHtcclxuICAgICAgdGhpcy5maW5WaXNpYmxlID0gMjtcclxuICAgIH0gZWxzZSBpZiAod2luZG93LmlubmVyV2lkdGggPj0gNjIwKSB7XHJcbiAgICAgIHRoaXMuZmluVmlzaWJsZSA9IDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmZpblZpc2libGUgPSAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0iLCI8ZGl2IGlkPVwicGFnaW5hY2lvblwiIGNsYXNzPVwiY29sdW1ucyBpcy1tb2JpbGVcIj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwiY29sdW1uIGlzLTQgaXMtYWxpZ24tc2VsZi1jZW50ZXIgZWxlbWVudG9zLXZpc2libGVzXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkIGhhcy1hZGRvbnNcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2wgc2VsZWN0IGlzLXNtYWxsIG1yLTEgaXMtYWxpZ24tc2VsZi1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxzZWxlY3QgbmFtZT1cImNhbnRpZGFkXCIgWyhuZ01vZGVsKV09XCJjYW50aWRhZFZpc2libGVcIiAoY2hhbmdlKT1cIm9uQ2FudGlkYWRTZWxlY2Npb25hZGEoKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gKm5nSWY9XCJjYW50aWRhZFRvdGFsRWxlbWVudG9zID49IDI1XCIgW25nVmFsdWVdPVwiMjVcIj4yNTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gKm5nSWY9XCJjYW50aWRhZFRvdGFsRWxlbWVudG9zID49IDUwXCIgW25nVmFsdWVdPVwiNTBcIj41MDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gKm5nSWY9XCJjYW50aWRhZFRvdGFsRWxlbWVudG9zID49IDEwMFwiIFtuZ1ZhbHVlXT1cIjEwMFwiPjEwMDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gW25nVmFsdWVdPVwiMFwiPnt7bGFiZWxzLnRvZG9zRWxlbWVudG9zfX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2wgaXMtYWxpZ24tc2VsZi1jZW50ZXJcIiBbbmdDbGFzc109XCJjYW50aWRhZFZpc2libGUgPT0gMCA/ICdpcy1oaWRkZW4nIDogJydcIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImlzLXNpemUtNy1tb2JpbGVcIiBbaW5uZXJIVE1MXT1cImxhYmVscy5lbGVtZW50b3NWaXNpYmxlc1wiPjwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cImNvbHVtbiBpcy1hbGlnbi1zZWxmLWNlbnRlciBjb2x1bW4tYnV0dG9uc1wiXHJcbiAgICAgICAgW25nU3R5bGVdPVwieyd2aXNpYmlsaXR5JzogcGFnaW5hcy5sZW5ndGggPD0gMSA/ICdoaWRkZW4nIDogJ3Zpc2libGUnLCAnbWFyZ2luLXRvcCc6IHBhZ2luYXMubGVuZ3RoIDw9IDEgPyAnLTNyZW0nIDogJzAnfVwiPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9ucyBoYXMtYWRkb25zIGlzLWNlbnRlcmVkXCI+XHJcblxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGlzLXNtYWxsXCIgW2Rpc2FibGVkXT1cInBhZ2luYUFjdHVhbCA9PSAxXCIgKGNsaWNrKT1cInNlbGVjY2lvbmFyUGFnaW5hKDEpXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImljb25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1hbmdsZS1kb3VibGUtbGVmdFwiPjwvaT5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGlzLXNtYWxsXCIgKGNsaWNrKT1cIm1vdmVyUGFnaW5hKGZhbHNlKVwiIFtkaXNhYmxlZF09XCJwYWdpbmFBY3R1YWwgPT0gMVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpY29uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi1sZWZ0XCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250cm9sXCIgKm5nRm9yPVwibGV0IGl0ZW0gb2YgcGFnaW5hczsgbGV0IGkgPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiAqbmdJZj1cImkgPj0gaW5pY2lvVmlzaWJsZSAmJiBpIDw9IGZpblZpc2libGVcIiBjbGFzcz1cImJ1dHRvbiBpcy1zbWFsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwicGFnaW5hQWN0dWFsID09IGl0ZW0gPyAnaXMtcHJpbWFyeScgOiAnJ1wiIChjbGljayk9XCJzZWxlY2Npb25hclBhZ2luYShpdGVtKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt7aXRlbS50b1N0cmluZygpfX1cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24gaXMtc21hbGxcIiAoY2xpY2spPVwibW92ZXJQYWdpbmEodHJ1ZSlcIlxyXG4gICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cInBhZ2luYUFjdHVhbCA9PSBvYnRlbmVyVWx0aW1hUGFnaW5hKClcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaWNvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tcmlnaHRcIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBpcy1zbWFsbFwiIFtkaXNhYmxlZF09XCJwYWdpbmFBY3R1YWwgPT0gcGFnaW5hc1twYWdpbmFzLmxlbmd0aCAtIDFdXCJcclxuICAgICAgICAgICAgICAgIChjbGljayk9XCJzZWxlY2Npb25hclBhZ2luYShvYnRlbmVyVWx0aW1hUGFnaW5hKCkpXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImljb25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1hbmdsZS1kb3VibGUtcmlnaHRcIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwiY29sdW1uIGlzLTQgcGFnaW5hLWFjdHVhbCBpcy1hbGlnbi1zZWxmLWNlbnRlclwiPlxyXG4gICAgICAgIDxwIGNsYXNzPVwiaGFzLXRleHQtcmlnaHQgaXMtc2l6ZS03LW1vYmlsZVwiIFtpbm5lckhUTUxdPVwibGFiZWxzLnBhZ2luYUFjdHVhbFwiPjwvcD5cclxuICAgIDwvZGl2PlxyXG5cclxuPC9kaXY+Il19