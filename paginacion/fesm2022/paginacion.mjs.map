{"version":3,"file":"paginacion.mjs","sources":["../../../projects/paginacion/src/lib/components/paginacion/paginacion.component.ts","../../../projects/paginacion/src/lib/components/paginacion/paginacion.component.html","../../../projects/paginacion/src/public-api.ts","../../../projects/paginacion/src/paginacion.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { Component, EventEmitter, HostListener, Input, OnInit, Output } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-paginacion',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  templateUrl: './paginacion.component.html',\r\n  styleUrls: ['./paginacion.component.css']\r\n})\r\nexport class PaginacionComponent implements OnInit {\r\n\r\n  protected paginas: number[] = [];\r\n  public cantidadVisible: number = 25;\r\n  public cantidadElementos: number = 0;\r\n  public cantidadTotalElementos: number = 0;\r\n\r\n  @Input() protected nombreElementos: string = '';\r\n  @Output() public cantidadSeleccionada: EventEmitter<number> = new EventEmitter<number>();\r\n  @Output() public paginaSeleccionada: EventEmitter<number> = new EventEmitter<number>();\r\n\r\n  /**\r\n   * Propiedades de visualización de botones,\r\n   * inicio y fin son las posiciones (NO los items)\r\n   */\r\n  protected inicioVisible: number = 0;\r\n  public paginaActual: number = 1;\r\n  protected finVisible: number = 2;\r\n\r\n  protected labels = {\r\n    todosElementos: 'Todos',\r\n    paginaActual: '',\r\n    elementosVisibles: ''\r\n  };\r\n\r\n  public constructor(\r\n  ) { }\r\n\r\n  public ngOnInit() {\r\n    this.establecerBotonesVisibles();\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(event: any) {\r\n    this.establecerBotonesVisibles();\r\n    this.actualizarLabels();\r\n  }\r\n\r\n  public iniciarPaginacion(cantidadTotal: number, cantidadActual: number, cantidadPaginas: number) {\r\n    this.cantidadTotalElementos = cantidadTotal;\r\n    this.cantidadElementos = cantidadActual;\r\n    this.paginas = [];\r\n\r\n    this.cantidadVisible = this.cantidadTotalElementos >= this.cantidadVisible\r\n      ? this.cantidadVisible\r\n      : 0;\r\n\r\n    for (let index = 0; index < cantidadPaginas; index++) {\r\n      this.paginas.push(index + 1);\r\n    }\r\n\r\n    this.actualizarLabels();\r\n  }\r\n\r\n  public actualizarLabels() {\r\n    const esPantallaMediana = window.innerWidth <= 800;\r\n\r\n    if (this.paginas.length > 0) {\r\n      let cantidadInicial = (this.cantidadElementos * (this.paginaActual - 1)) + 1;\r\n      let cantidadFinal = this.cantidadElementos * this.paginaActual;\r\n      this.labels.paginaActual = `${cantidadInicial} - ${cantidadFinal} de ${this.cantidadTotalElementos}`;\r\n    } else {\r\n      this.labels.paginaActual = '';\r\n    }\r\n\r\n    this.labels.elementosVisibles = esPantallaMediana ? `${this.nombreElementos}` : `${this.nombreElementos} por página`;\r\n  }\r\n\r\n  protected seleccionarPagina(pagina: number) {\r\n    this.paginaActual = pagina;\r\n    const posicionActual = this.paginaActual - 1;\r\n\r\n    this.onPaginaSeleccionada();\r\n\r\n    const esPantallaGrande = window.innerWidth >= 720;\r\n    const esPantallaMediana = window.innerWidth >= 620 && window.innerWidth < 720;\r\n    const primeraPagina = this.paginaActual === 1;\r\n    const ultimaPagina = this.paginaActual === this.obtenerUltimaPagina();\r\n\r\n    if (primeraPagina) {\r\n      this.inicioVisible = 0;\r\n      this.finVisible = Math.min(this.paginas.length - 1, esPantallaGrande ? 2 : esPantallaMediana ? 1 : 0);\r\n    } else if (ultimaPagina) {\r\n      this.finVisible = posicionActual;\r\n      this.inicioVisible = Math.max(0, esPantallaGrande ? posicionActual - 2 : esPantallaMediana ? posicionActual - 1 : posicionActual);\r\n    } else {\r\n      this.inicioVisible = esPantallaGrande ? posicionActual - 1 : posicionActual;\r\n      this.finVisible = this.inicioVisible + (esPantallaGrande ? 2 : esPantallaMediana ? 1 : 0);\r\n    }\r\n  }\r\n\r\n  protected moverPagina(derecha: boolean) {\r\n    let posicion = this.paginaActual - 1;\r\n\r\n    if (derecha) {\r\n      posicion += 1;\r\n    }\r\n    else {\r\n      posicion -= 1;\r\n    }\r\n\r\n    this.seleccionarPagina(this.paginas[posicion]);\r\n  }\r\n\r\n  protected obtenerUltimaPagina() {\r\n    return this.paginas[(this.paginas.length - 1)];\r\n  }\r\n\r\n  protected onCantidadSeleccionada() {\r\n    this.paginaActual = 1;\r\n    this.inicioVisible = 0;\r\n    this.establecerBotonesVisibles();\r\n\r\n    this.cantidadSeleccionada.emit(this.cantidadVisible);\r\n    this.onPaginaSeleccionada();\r\n  }\r\n\r\n  protected onPaginaSeleccionada() {\r\n    this.paginaSeleccionada.emit(this.paginaActual);\r\n  }\r\n\r\n  protected establecerBotonesVisibles() {\r\n    if (window.innerWidth >= 720) {\r\n      this.finVisible = 2;\r\n    } else if (window.innerWidth >= 620) {\r\n      this.finVisible = 1;\r\n    } else {\r\n      this.finVisible = 0;\r\n    }\r\n  }\r\n\r\n}","<div id=\"paginacion\" class=\"columns is-mobile\">\r\n\r\n    <div class=\"column is-4 is-align-self-center elementos-visibles\">\r\n        <div class=\"field has-addons\">\r\n            <div class=\"control select is-small mr-1 is-align-self-center\">\r\n                <select name=\"cantidad\" [(ngModel)]=\"cantidadVisible\" (change)=\"onCantidadSeleccionada()\">\r\n                    <option *ngIf=\"cantidadTotalElementos >= 25\" [ngValue]=\"25\">25</option>\r\n                    <option *ngIf=\"cantidadTotalElementos >= 50\" [ngValue]=\"50\">50</option>\r\n                    <option *ngIf=\"cantidadTotalElementos >= 100\" [ngValue]=\"100\">100</option>\r\n                    <option [ngValue]=\"0\">{{labels.todosElementos}}</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"control is-align-self-center\" [ngClass]=\"cantidadVisible == 0 ? 'is-hidden' : ''\">\r\n                <label class=\"is-size-7-mobile\" [innerHTML]=\"labels.elementosVisibles\"></label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"column is-align-self-center column-buttons\"\r\n        [ngStyle]=\"{'visibility': paginas.length <= 1 ? 'hidden' : 'visible', 'margin-top': paginas.length <= 1 ? '-3rem' : '0'}\">\r\n\r\n        <div class=\"buttons has-addons is-centered\">\r\n\r\n            <button class=\"button is-small\" [disabled]=\"paginaActual == 1\" (click)=\"seleccionarPagina(1)\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-angle-double-left\"></i>\r\n                </span>\r\n            </button>\r\n\r\n            <button class=\"button is-small\" (click)=\"moverPagina(false)\" [disabled]=\"paginaActual == 1\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-chevron-left\"></i>\r\n                </span>\r\n            </button>\r\n\r\n            <div class=\"control\" *ngFor=\"let item of paginas; let i = index\">\r\n                <button *ngIf=\"i >= inicioVisible && i <= finVisible\" class=\"button is-small\"\r\n                    [ngClass]=\"paginaActual == item ? 'is-primary' : ''\" (click)=\"seleccionarPagina(item)\">\r\n                    {{item.toString()}}\r\n                </button>\r\n            </div>\r\n\r\n            <button class=\"button is-small\" (click)=\"moverPagina(true)\"\r\n                [disabled]=\"paginaActual == obtenerUltimaPagina()\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-chevron-right\"></i>\r\n                </span>\r\n            </button>\r\n\r\n            <button class=\"button is-small\" [disabled]=\"paginaActual == paginas[paginas.length - 1]\"\r\n                (click)=\"seleccionarPagina(obtenerUltimaPagina())\">\r\n                <span class=\"icon\">\r\n                    <i class=\"fas fa-angle-double-right\"></i>\r\n                </span>\r\n            </button>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"column is-4 pagina-actual is-align-self-center\">\r\n        <p class=\"has-text-right is-size-7-mobile\" [innerHTML]=\"labels.paginaActual\"></p>\r\n    </div>\r\n\r\n</div>","/*\r\n * Public API Surface of paginacion\r\n */\r\n\r\nexport * from './lib/components/paginacion/paginacion.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}