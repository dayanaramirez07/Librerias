import { CommonModule } from '@angular/common';
import { Component, EventEmitter, Input, Output, ViewChildren } from '@angular/core';
import { FormsModule } from '@angular/forms';
import { AccionesComponent } from "../acciones/acciones.component";
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class TablaComponent {
    constructor(cdr) {
        this.cdr = cdr;
        this.anchoEncabezados = [];
        this.datos = [];
        this.filtro = '';
        this.accion = true;
        this.altoTabla = '';
        this.acciones = [];
        this.columnas = [];
        this.enModal = false;
        this.datoSeleccionado = new EventEmitter();
        this.labels = {
            acciones: 'Acciones'
        };
    }
    ngAfterViewInit() {
        setTimeout(() => {
            this.onResize();
        }, 1);
    }
    ngAfterContentChecked() {
        this.prepararDatosParaTabla();
        this.onResize();
    }
    onResize() {
        if (this.encabezados && this.encabezados.length > 0) {
            const anchosColumnas = this.encabezados.toArray()
                .map(encabezado => encabezado.nativeElement.offsetWidth);
            this.anchoEncabezados = anchosColumnas.map(ancho => `${ancho}px`);
            this.cdr.detectChanges();
        }
    }
    prepararDatosParaTabla() {
        this.datos.forEach(dato => {
            if (dato.dv && !dato.numeroDocumento.includes(`-${dato.dv}`)) {
                dato.numeroDocumento = dato.numeroDocumento + '-' + dato.dv;
            }
            if (dato.nombres && dato.apellidos) {
                dato.nombreCompleto = dato.nombres + ' ' + dato.apellidos;
            }
            Object.keys(dato).forEach(key => {
                if (typeof dato[key] === 'boolean') {
                    dato[key] = dato[key] ? 'Sí' : 'No';
                }
            });
        });
    }
    onDatoSeleccionado(dato) {
        this.datoSeleccionado.emit(dato);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TablaComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: TablaComponent, isStandalone: true, selector: "lib-tabla", inputs: { datos: "datos", filtro: "filtro", accion: "accion", altoTabla: "altoTabla", acciones: "acciones", columnas: "columnas", enModal: "enModal" }, outputs: { datoSeleccionado: "datoSeleccionado" }, host: { listeners: { "window:resize": "onResize($event)" } }, viewQueries: [{ propertyName: "encabezados", predicate: ["encabezados"], descendants: true }], ngImport: i0, template: "<div #divTabla class=\"d-flex flex-column border border-1 border-secondary-subtle\"\r\n    [ngStyle]=\"{'height': altoTabla}\">\r\n    <div class=\"div-encabezado\">\r\n        <table class=\"table table-bordered mb-0 border-secondary-subtle\">\r\n            <thead class=\"align-middle position-sticky top-0 shadow-sm text-center\">\r\n                <tr>\r\n                    <th \r\n                        #encabezados \r\n                        *ngFor=\"let columna of columnas\"\r\n                        [style.width.%]=\"columna.ancho\">\r\n                        {{ columna.nombre }}\r\n                    </th>\r\n                    <th \r\n                        *ngIf=\"accion && !enModal\"\r\n                        [style.width]=\"acciones.length > 3 ? '25%' : '15%'\">\r\n                        {{labels.acciones}}\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n    <div class=\"div-cuerpo-tabla overflow-y-auto\">\r\n        <table class=\"table table-bordered mb-0\">\r\n            <tbody class=\"align-middle\">\r\n                <tr \r\n                    *ngFor=\"let dato of datos\" \r\n                    (click)=\"enModal ? onDatoSeleccionado(dato) : ''\"\r\n                    [style.cursor]=\"enModal ? 'pointer' : ''\">\r\n                    <td \r\n                        *ngFor=\"let columna of columnas; let i = index\" \r\n                        [style.width]=\"anchoEncabezados[i]\"\r\n                        [ngClass]=\"columna.alineacion\">\r\n                        {{ dato[columna.campoDB] }}\r\n                    </td>\r\n                    <td *ngIf=\"accion && !enModal\">\r\n                        <app-acciones \r\n                            *ngIf=\"acciones.length > 0\"\r\n                            [dato]=\"dato\"\r\n                            [acciones]=\"acciones\">\r\n                        </app-acciones>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>", styles: [".table>:not(caption)>*>*{background-color:transparent}thead tr{background-color:var(--light)}.div-cuerpo-tabla{scrollbar-width:thin;scrollbar-color:var(--light-hover)}.div-cuerpo-tabla::-webkit-scrollbar{width:8px}.div-cuerpo-tabla::-webkit-scrollbar-thumb{background:var(--light-hover)}\n"], dependencies: [{ kind: "ngmodule", type: FormsModule }, { kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { kind: "component", type: AccionesComponent, selector: "app-acciones", inputs: ["dato", "acciones"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TablaComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lib-tabla', standalone: true, imports: [
                        FormsModule,
                        CommonModule,
                        AccionesComponent
                    ], host: {
                        '(window:resize)': 'onResize($event)'
                    }, template: "<div #divTabla class=\"d-flex flex-column border border-1 border-secondary-subtle\"\r\n    [ngStyle]=\"{'height': altoTabla}\">\r\n    <div class=\"div-encabezado\">\r\n        <table class=\"table table-bordered mb-0 border-secondary-subtle\">\r\n            <thead class=\"align-middle position-sticky top-0 shadow-sm text-center\">\r\n                <tr>\r\n                    <th \r\n                        #encabezados \r\n                        *ngFor=\"let columna of columnas\"\r\n                        [style.width.%]=\"columna.ancho\">\r\n                        {{ columna.nombre }}\r\n                    </th>\r\n                    <th \r\n                        *ngIf=\"accion && !enModal\"\r\n                        [style.width]=\"acciones.length > 3 ? '25%' : '15%'\">\r\n                        {{labels.acciones}}\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n    <div class=\"div-cuerpo-tabla overflow-y-auto\">\r\n        <table class=\"table table-bordered mb-0\">\r\n            <tbody class=\"align-middle\">\r\n                <tr \r\n                    *ngFor=\"let dato of datos\" \r\n                    (click)=\"enModal ? onDatoSeleccionado(dato) : ''\"\r\n                    [style.cursor]=\"enModal ? 'pointer' : ''\">\r\n                    <td \r\n                        *ngFor=\"let columna of columnas; let i = index\" \r\n                        [style.width]=\"anchoEncabezados[i]\"\r\n                        [ngClass]=\"columna.alineacion\">\r\n                        {{ dato[columna.campoDB] }}\r\n                    </td>\r\n                    <td *ngIf=\"accion && !enModal\">\r\n                        <app-acciones \r\n                            *ngIf=\"acciones.length > 0\"\r\n                            [dato]=\"dato\"\r\n                            [acciones]=\"acciones\">\r\n                        </app-acciones>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>", styles: [".table>:not(caption)>*>*{background-color:transparent}thead tr{background-color:var(--light)}.div-cuerpo-tabla{scrollbar-width:thin;scrollbar-color:var(--light-hover)}.div-cuerpo-tabla::-webkit-scrollbar{width:8px}.div-cuerpo-tabla::-webkit-scrollbar-thumb{background:var(--light-hover)}\n"] }]
        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }], propDecorators: { datos: [{
                type: Input
            }], filtro: [{
                type: Input
            }], accion: [{
                type: Input
            }], altoTabla: [{
                type: Input
            }], acciones: [{
                type: Input
            }], columnas: [{
                type: Input
            }], enModal: [{
                type: Input
            }], encabezados: [{
                type: ViewChildren,
                args: ['encabezados']
            }], datoSeleccionado: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGEuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGFibGEvc3JjL2xpYi9jb21wb25lbnRzL3RhYmxhL3RhYmxhLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3RhYmxhL3NyYy9saWIvY29tcG9uZW50cy90YWJsYS90YWJsYS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFxQixTQUFTLEVBQWMsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQWEsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQy9ILE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQzs7O0FBa0JuRSxNQUFNLE9BQU8sY0FBYztJQWtCekIsWUFDVSxHQUFzQjtRQUF0QixRQUFHLEdBQUgsR0FBRyxDQUFtQjtRQWpCdEIscUJBQWdCLEdBQWEsRUFBRSxDQUFDO1FBRTFCLFVBQUssR0FBVSxFQUFFLENBQUM7UUFDbEIsV0FBTSxHQUFXLEVBQUUsQ0FBQztRQUNwQixXQUFNLEdBQVksSUFBSSxDQUFDO1FBQ3ZCLGNBQVMsR0FBVyxFQUFFLENBQUM7UUFDdkIsYUFBUSxHQUFhLEVBQUUsQ0FBQztRQUN4QixhQUFRLEdBQWMsRUFBRSxDQUFDO1FBQ3pCLFlBQU8sR0FBWSxLQUFLLENBQUM7UUFFckIscUJBQWdCLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7UUFFdEUsV0FBTSxHQUFHO1lBQ2QsUUFBUSxFQUFFLFVBQVU7U0FDckIsQ0FBQTtJQUlHLENBQUM7SUFFRSxlQUFlO1FBQ3BCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDZCxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDbEIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztJQUVNLHFCQUFxQjtRQUMxQixJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztRQUM5QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVNLFFBQVE7UUFDYixJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDcEQsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUU7aUJBQzlDLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFM0QsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGNBQWMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssSUFBSSxDQUFDLENBQUM7WUFDbEUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUMzQixDQUFDO0lBQ0gsQ0FBQztJQUVTLHNCQUFzQjtRQUM5QixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN4QixJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUM7Z0JBQzdELElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLGVBQWUsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUM5RCxDQUFDO1lBRUQsSUFBSSxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDbkMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQzVELENBQUM7WUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDOUIsSUFBSSxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxTQUFTLEVBQUUsQ0FBQztvQkFDbkMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQ3RDLENBQUM7WUFDSCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVTLGtCQUFrQixDQUFDLElBQVM7UUFDcEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNuQyxDQUFDOytHQS9EVSxjQUFjO21HQUFkLGNBQWMsNmFDckIzQiw0aEVBNkNNLDBWRGxDRixXQUFXLDhCQUNYLFlBQVksbWJBQ1osaUJBQWlCOzs0RkFRUixjQUFjO2tCQWQxQixTQUFTOytCQUNFLFdBQVcsY0FDVCxJQUFJLFdBQ1A7d0JBQ1AsV0FBVzt3QkFDWCxZQUFZO3dCQUNaLGlCQUFpQjtxQkFDbEIsUUFHSzt3QkFDSixpQkFBaUIsRUFBRSxrQkFBa0I7cUJBQ3RDO3NGQU1lLEtBQUs7c0JBQXBCLEtBQUs7Z0JBQ1UsTUFBTTtzQkFBckIsS0FBSztnQkFDVSxNQUFNO3NCQUFyQixLQUFLO2dCQUNVLFNBQVM7c0JBQXhCLEtBQUs7Z0JBQ1UsUUFBUTtzQkFBdkIsS0FBSztnQkFDVSxRQUFRO3NCQUF2QixLQUFLO2dCQUNVLE9BQU87c0JBQXRCLEtBQUs7Z0JBQ2lDLFdBQVc7c0JBQWpELFlBQVk7dUJBQUMsYUFBYTtnQkFDUCxnQkFBZ0I7c0JBQW5DLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIFF1ZXJ5TGlzdCwgVmlld0NoaWxkcmVuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBBY2Npb25lc0NvbXBvbmVudCB9IGZyb20gXCIuLi9hY2Npb25lcy9hY2Npb25lcy5jb21wb25lbnRcIjtcclxuaW1wb3J0IHsgQWNjaW9uIH0gZnJvbSAnLi4vLi4vbW9kZWxzL2FjY2lvbic7XHJcbmltcG9ydCB7IENvbHVtbmEgfSBmcm9tICcuLi8uLi9tb2RlbHMvY29sdW1uYSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2xpYi10YWJsYScsXHJcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcclxuICBpbXBvcnRzOiBbXHJcbiAgICBGb3Jtc01vZHVsZSxcclxuICAgIENvbW1vbk1vZHVsZSxcclxuICAgIEFjY2lvbmVzQ29tcG9uZW50XHJcbiAgXSxcclxuICB0ZW1wbGF0ZVVybDogJy4vdGFibGEuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsOiAnLi90YWJsYS5jb21wb25lbnQuY3NzJyxcclxuICBob3N0OiB7XHJcbiAgICAnKHdpbmRvdzpyZXNpemUpJzogJ29uUmVzaXplKCRldmVudCknXHJcbiAgfVxyXG59KVxyXG5leHBvcnQgY2xhc3MgVGFibGFDb21wb25lbnQge1xyXG5cclxuICBwcm90ZWN0ZWQgYW5jaG9FbmNhYmV6YWRvczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgQElucHV0KCkgcHVibGljIGRhdG9zOiBhbnlbXSA9IFtdO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBmaWx0cm86IHN0cmluZyA9ICcnO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBhY2Npb246IGJvb2xlYW4gPSB0cnVlO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBhbHRvVGFibGE6IHN0cmluZyA9ICcnO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBhY2Npb25lczogQWNjaW9uW10gPSBbXTtcclxuICBASW5wdXQoKSBwdWJsaWMgY29sdW1uYXM6IENvbHVtbmFbXSA9IFtdO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBlbk1vZGFsOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQFZpZXdDaGlsZHJlbignZW5jYWJlemFkb3MnKSBwcm90ZWN0ZWQgZW5jYWJlemFkb3MhOiBRdWVyeUxpc3Q8RWxlbWVudFJlZj47XHJcbiAgQE91dHB1dCgpIHByb3RlY3RlZCBkYXRvU2VsZWNjaW9uYWRvOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgcHVibGljIGxhYmVscyA9IHtcclxuICAgIGFjY2lvbmVzOiAnQWNjaW9uZXMnXHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgY2RyOiBDaGFuZ2VEZXRlY3RvclJlZlxyXG4gICkgeyB9XHJcblxyXG4gIHB1YmxpYyBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5vblJlc2l6ZSgpO1xyXG4gICAgfSwgMSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbmdBZnRlckNvbnRlbnRDaGVja2VkKCk6IHZvaWQge1xyXG4gICAgdGhpcy5wcmVwYXJhckRhdG9zUGFyYVRhYmxhKCk7XHJcbiAgICB0aGlzLm9uUmVzaXplKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb25SZXNpemUoKSB7XHJcbiAgICBpZiAodGhpcy5lbmNhYmV6YWRvcyAmJiB0aGlzLmVuY2FiZXphZG9zLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgYW5jaG9zQ29sdW1uYXMgPSB0aGlzLmVuY2FiZXphZG9zLnRvQXJyYXkoKVxyXG4gICAgICAgIC5tYXAoZW5jYWJlemFkbyA9PiBlbmNhYmV6YWRvLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGgpO1xyXG5cclxuICAgICAgdGhpcy5hbmNob0VuY2FiZXphZG9zID0gYW5jaG9zQ29sdW1uYXMubWFwKGFuY2hvID0+IGAke2FuY2hvfXB4YCk7XHJcbiAgICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBwcmVwYXJhckRhdG9zUGFyYVRhYmxhKCkge1xyXG4gICAgdGhpcy5kYXRvcy5mb3JFYWNoKGRhdG8gPT4ge1xyXG4gICAgICBpZiAoZGF0by5kdiAmJiAhZGF0by5udW1lcm9Eb2N1bWVudG8uaW5jbHVkZXMoYC0ke2RhdG8uZHZ9YCkpIHtcclxuICAgICAgICBkYXRvLm51bWVyb0RvY3VtZW50byA9IGRhdG8ubnVtZXJvRG9jdW1lbnRvICsgJy0nICsgZGF0by5kdjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGRhdG8ubm9tYnJlcyAmJiBkYXRvLmFwZWxsaWRvcykge1xyXG4gICAgICAgIGRhdG8ubm9tYnJlQ29tcGxldG8gPSBkYXRvLm5vbWJyZXMgKyAnICcgKyBkYXRvLmFwZWxsaWRvcztcclxuICAgICAgfVxyXG5cclxuICAgICAgT2JqZWN0LmtleXMoZGF0bykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0b1trZXldID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgIGRhdG9ba2V5XSA9IGRhdG9ba2V5XSA/ICdTw60nIDogJ05vJztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgb25EYXRvU2VsZWNjaW9uYWRvKGRhdG86IGFueSkge1xyXG4gICAgdGhpcy5kYXRvU2VsZWNjaW9uYWRvLmVtaXQoZGF0byk7XHJcbiAgfVxyXG5cclxufSIsIjxkaXYgI2RpdlRhYmxhIGNsYXNzPVwiZC1mbGV4IGZsZXgtY29sdW1uIGJvcmRlciBib3JkZXItMSBib3JkZXItc2Vjb25kYXJ5LXN1YnRsZVwiXHJcbiAgICBbbmdTdHlsZV09XCJ7J2hlaWdodCc6IGFsdG9UYWJsYX1cIj5cclxuICAgIDxkaXYgY2xhc3M9XCJkaXYtZW5jYWJlemFkb1wiPlxyXG4gICAgICAgIDx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIG1iLTAgYm9yZGVyLXNlY29uZGFyeS1zdWJ0bGVcIj5cclxuICAgICAgICAgICAgPHRoZWFkIGNsYXNzPVwiYWxpZ24tbWlkZGxlIHBvc2l0aW9uLXN0aWNreSB0b3AtMCBzaGFkb3ctc20gdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICA8dGggXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICNlbmNhYmV6YWRvcyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGNvbHVtbmEgb2YgY29sdW1uYXNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbc3R5bGUud2lkdGguJV09XCJjb2x1bW5hLmFuY2hvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7IGNvbHVtbmEubm9tYnJlIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGggXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiYWNjaW9uICYmICFlbk1vZGFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW3N0eWxlLndpZHRoXT1cImFjY2lvbmVzLmxlbmd0aCA+IDMgPyAnMjUlJyA6ICcxNSUnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7bGFiZWxzLmFjY2lvbmVzfX1cclxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICA8L3RhYmxlPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiZGl2LWN1ZXJwby10YWJsYSBvdmVyZmxvdy15LWF1dG9cIj5cclxuICAgICAgICA8dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCBtYi0wXCI+XHJcbiAgICAgICAgICAgIDx0Ym9keSBjbGFzcz1cImFsaWduLW1pZGRsZVwiPlxyXG4gICAgICAgICAgICAgICAgPHRyIFxyXG4gICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBkYXRvIG9mIGRhdG9zXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImVuTW9kYWwgPyBvbkRhdG9TZWxlY2Npb25hZG8oZGF0bykgOiAnJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgW3N0eWxlLmN1cnNvcl09XCJlbk1vZGFsID8gJ3BvaW50ZXInIDogJydcIj5cclxuICAgICAgICAgICAgICAgICAgICA8dGQgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBjb2x1bW5hIG9mIGNvbHVtbmFzOyBsZXQgaSA9IGluZGV4XCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZS53aWR0aF09XCJhbmNob0VuY2FiZXphZG9zW2ldXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwiY29sdW1uYS5hbGluZWFjaW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7IGRhdG9bY29sdW1uYS5jYW1wb0RCXSB9fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkICpuZ0lmPVwiYWNjaW9uICYmICFlbk1vZGFsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhcHAtYWNjaW9uZXMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImFjY2lvbmVzLmxlbmd0aCA+IDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdG9dPVwiZGF0b1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWNjaW9uZXNdPVwiYWNjaW9uZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hcHAtYWNjaW9uZXM+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgPC90YWJsZT5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj4iXX0=