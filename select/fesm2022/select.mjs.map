{"version":3,"file":"select.mjs","sources":["../../../projects/select/src/lib/select.component.ts","../../../projects/select/src/public-api.ts","../../../projects/select/src/select.ts"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { ControlValueAccessor, FormsModule, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-select',\r\n  standalone: true,\r\n  imports: [\r\n    FormsModule\r\n  ],\r\n  template: `\r\n    <select \r\n      name=\"option\" \r\n      [(ngModel)]=\"value\" \r\n      (click)=\"onTouched()\" \r\n      [disabled]=\"isDisabled\"\r\n      (change)=\"onSeleccionChange(value)\"\r\n      [style.width]=\"ancho ? ancho : ''\">\r\n      <option *ngFor=\"let option of options\" [ngValue]=\"option\">\r\n        {{getPropiedadOption(option)}}\r\n      </option>\r\n    </select>\r\n  `,\r\n  providers: [{\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: SelectComponent,\r\n    multi: true\r\n  }]\r\n})\r\nexport class SelectComponent implements OnInit, ControlValueAccessor {\r\n\r\n  public onTouched: () => void = () => { };\r\n  public onChange: (value: any) => void = () => { };\r\n\r\n  @Input() public value: any;\r\n  @Input() public ancho: string = '';\r\n  @Input() public options: any[] = [];\r\n  @Input() public propiedad: string = '';\r\n  @Input() public idConfiguracion?: number;\r\n  @Input() public isDisabled: boolean = false;\r\n  @Output() public opcionSeleccionada: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  protected mensajes = {\r\n    noEncontrado: 'La opciÃ³n establecida no existe'\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  public ngOnInit(): void {\r\n    this.writeValue(this.value);\r\n  }\r\n\r\n  public writeValue(value: any): void {\r\n    if (!value || !value.id) {\r\n      this.value = this.options[0];\r\n      this.forzarReporteCambios();\r\n      return;\r\n    }\r\n\r\n    this.value = this.options.find(option => option.id === value.id) || null;\r\n\r\n    if (!this.value) {\r\n      throw new Error(this.mensajes.noEncontrado);\r\n    }\r\n  }\r\n\r\n  public registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n    this.onChange(this.value);\r\n  }\r\n\r\n  public registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  public setDisabledState?(isDisabled: boolean): void {\r\n    this.isDisabled = isDisabled;\r\n  }\r\n\r\n  public onSeleccionChange(value: any): void {\r\n    this.onChange(value);\r\n    this.opcionSeleccionada.emit(value);\r\n  }\r\n\r\n  private forzarReporteCambios(): void {\r\n    if (this.onChange) {\r\n      this.onChange(this.value);\r\n    }\r\n    this.opcionSeleccionada.emit(this.value)\r\n  }\r\n\r\n  protected getPropiedadOption(option: any): string {\r\n    return this.propiedad ? option[this.propiedad] : option['nombre'] || '';\r\n  }\r\n\r\n  public setOption(value: any) {\r\n    this.value = this.options.find(option => option.id == value.id);\r\n  }\r\n\r\n}","/*\r\n * Public API Surface of select\r\n */\r\n\r\nexport * from './lib/select.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}