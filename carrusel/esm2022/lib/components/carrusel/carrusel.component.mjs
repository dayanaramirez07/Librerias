import { CommonModule } from '@angular/common';
import { Component, HostListener, Output, EventEmitter } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class CarruselComponent {
    constructor() {
        this.carrusel = [];
        this.nextSliding = false;
        this.prevSliding = false;
        this.animating = false;
        this.screen = false;
        this.carruselOculto = new EventEmitter();
        this.labels = {
            coleccion: 'Productos destacados'
        };
    }
    ngOnInit() {
        this.intervalo = setInterval(() => {
            this.nextSlide();
        }, 5000);
        if (window.innerWidth > 450) {
            this.screen = true;
        }
        else {
            this.screen = false;
        }
        if (this.carrusel.length === 0) {
            this.hideComponent();
        }
    }
    ngOnDestroy() {
        clearInterval(this.intervalo);
    }
    onResize(event) {
        if (window.innerWidth > 450) {
            this.screen = true;
        }
        else {
            this.screen = false;
        }
    }
    nextSlide() {
        if (!this.animating) {
            this.animating = true;
            clearInterval(this.intervalo);
            this.nextSliding = true;
            setTimeout(() => {
                this.nextSliding = false;
                this.carrusel.push(this.carrusel.shift());
                this.intervalo = setInterval(() => {
                    this.nextSlide();
                }, 5000);
                this.animating = false;
            }, 1000);
        }
    }
    prevSlide() {
        if (!this.animating) {
            this.animating = true;
            clearInterval(this.intervalo);
            this.prevSliding = true;
            this.carrusel.unshift(this.carrusel.pop());
            setTimeout(() => {
                this.prevSliding = false;
                this.intervalo = setInterval(() => {
                    this.nextSlide();
                }, 5000);
                this.animating = false;
            }, 1000);
        }
    }
    swipeleft(event) {
        this.nextSlide();
    }
    swiperight(event) {
        this.prevSlide();
    }
    hideComponent() {
        const carouselContainer = document.querySelector('.carousel-container');
        if (carouselContainer) {
            carouselContainer.style.display = 'none';
            this.carruselOculto.emit(true);
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CarruselComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: CarruselComponent, isStandalone: true, selector: "app-carrusel", outputs: { carruselOculto: "carruselOculto" }, host: { listeners: { "window:resize": "onResize($event)" } }, ngImport: i0, template: "<div class=\"carousel-container coleccion\">\r\n\r\n    <div class=\"carousel-controls-top\">\r\n        <button class=\"carousel-control-prev\" type=\"button\" (click)=\"prevSlide()\" [disabled]=\"animating\">\r\n            <span class=\"icon\">\r\n                <i class=\"fas fa-chevron-left\"></i>\r\n            </span>\r\n        </button>\r\n        <h1>{{labels.coleccion}}</h1>\r\n        <button class=\"carousel-control-next\" type=\"button\" (click)=\"nextSlide()\" [disabled]=\"animating\">\r\n            <span class=\"icon\">\r\n                <i class=\"fas fa-chevron-right\"></i>\r\n            </span>\r\n        </button>\r\n    </div>\r\n\r\n    <div class=\"carousel-inner\" (swipeleft)=\"swipeleft($event)\" (swiperight)=\"swiperight($event)\">\r\n        <div class=\"columns mayor\" *ngIf=\"screen\">\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\"\r\n                *ngFor=\"let slide of carrusel\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + slide.rutaImagen\">\r\n                    <p class=\"texto\">{{slide.detalle}}<br>${{slide.precio}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"columns menor\" *ngIf=\"!screen\">\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + carrusel[0].rutaImagen\">\r\n                    <p class=\"texto\">{{carrusel[0].detalle}}<br>${{carrusel[0].precio}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + carrusel[1].rutaImagen\">\r\n                    <p class=\"texto\">{{carrusel[1].detalle}}<br>${{carrusel[1].precio}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + carrusel[2].rutaImagen\">\r\n                    <p class=\"texto\">{{carrusel[2].detalle}}<br>${{carrusel[2].precio}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\"\r\n                *ngIf=\"nextSliding || prevSliding\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + carrusel[3].rutaImagen\">\r\n                    <p class=\"texto\">{{carrusel[3].detalle}}<br>${{carrusel[3].precio}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<br>", styles: [".coleccion{background-color:var(--neutroOscuridad);padding-top:30px;padding-bottom:15px}.carousel-control-prev,.carousel-control-next{height:40px;position:relative}span.icon i{color:var(--principal)}.carousel-inner{display:flex;justify-content:center}div.columns{display:flex;justify-content:center;overflow:hidden;width:81%;z-index:5}.column img{min-height:290px;min-width:290px;transition:opacity .5s ease-out}.column .overlay{position:relative}.column .texto{position:absolute;bottom:0;left:0;margin:auto;width:100%;padding:5px 10px;background-color:#000000b3;color:#fff;text-align:center}p{color:var(--neutroLuz);text-align:justify}h1{text-align:center;z-index:5}hr{margin-top:35px}button{margin:auto}.carousel-control-prev{left:15%}.carousel-control-next{right:15%}.carousel-controls-top{display:flex;margin-bottom:20px}.carousel-controls-top .icon{font-size:30px}.animate-next{animation:nextAnimation 1s ease-out}@keyframes nextAnimation{0%{transform:translate(0)}to{transform:translate(-100%)}}.animate-prev{animation:prevAnimation 1s ease-out}@keyframes prevAnimation{0%{transform:translate(-100%)}to{transform:translate(0)}}@media screen and (max-width: 1280px){.carousel-control-prev,.carousel-control-next{height:30px}.carousel-controls-top .icon{font-size:25px}.carousel-control-prev{left:10%}.carousel-control-next{right:10%}}@media only screen and (max-width: 830px){.column img{min-height:240px;min-width:240px}}@media screen and (max-width: 768px){.carousel-control-prev,.carousel-control-next{height:20px}.carousel-controls-top .icon{font-size:20px}.carousel-control-prev{left:5%}.carousel-control-next{right:5%}}@media only screen and (max-width: 450px){div.columns{display:flex;justify-content:center;overflow:hidden;width:81%}@keyframes nextAnimation{0%{transform:translate(50%)}to{transform:translate(-50%)}}@keyframes prevAnimation{0%{transform:translate(-50%)}to{transform:translate(50%)}}}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CarruselComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-carrusel', standalone: true, imports: [
                        CommonModule
                    ], template: "<div class=\"carousel-container coleccion\">\r\n\r\n    <div class=\"carousel-controls-top\">\r\n        <button class=\"carousel-control-prev\" type=\"button\" (click)=\"prevSlide()\" [disabled]=\"animating\">\r\n            <span class=\"icon\">\r\n                <i class=\"fas fa-chevron-left\"></i>\r\n            </span>\r\n        </button>\r\n        <h1>{{labels.coleccion}}</h1>\r\n        <button class=\"carousel-control-next\" type=\"button\" (click)=\"nextSlide()\" [disabled]=\"animating\">\r\n            <span class=\"icon\">\r\n                <i class=\"fas fa-chevron-right\"></i>\r\n            </span>\r\n        </button>\r\n    </div>\r\n\r\n    <div class=\"carousel-inner\" (swipeleft)=\"swipeleft($event)\" (swiperight)=\"swiperight($event)\">\r\n        <div class=\"columns mayor\" *ngIf=\"screen\">\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\"\r\n                *ngFor=\"let slide of carrusel\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + slide.rutaImagen\">\r\n                    <p class=\"texto\">{{slide.detalle}}<br>${{slide.precio}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"columns menor\" *ngIf=\"!screen\">\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + carrusel[0].rutaImagen\">\r\n                    <p class=\"texto\">{{carrusel[0].detalle}}<br>${{carrusel[0].precio}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + carrusel[1].rutaImagen\">\r\n                    <p class=\"texto\">{{carrusel[1].detalle}}<br>${{carrusel[1].precio}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + carrusel[2].rutaImagen\">\r\n                    <p class=\"texto\">{{carrusel[2].detalle}}<br>${{carrusel[2].precio}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\"\r\n                *ngIf=\"nextSliding || prevSliding\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + carrusel[3].rutaImagen\">\r\n                    <p class=\"texto\">{{carrusel[3].detalle}}<br>${{carrusel[3].precio}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<br>", styles: [".coleccion{background-color:var(--neutroOscuridad);padding-top:30px;padding-bottom:15px}.carousel-control-prev,.carousel-control-next{height:40px;position:relative}span.icon i{color:var(--principal)}.carousel-inner{display:flex;justify-content:center}div.columns{display:flex;justify-content:center;overflow:hidden;width:81%;z-index:5}.column img{min-height:290px;min-width:290px;transition:opacity .5s ease-out}.column .overlay{position:relative}.column .texto{position:absolute;bottom:0;left:0;margin:auto;width:100%;padding:5px 10px;background-color:#000000b3;color:#fff;text-align:center}p{color:var(--neutroLuz);text-align:justify}h1{text-align:center;z-index:5}hr{margin-top:35px}button{margin:auto}.carousel-control-prev{left:15%}.carousel-control-next{right:15%}.carousel-controls-top{display:flex;margin-bottom:20px}.carousel-controls-top .icon{font-size:30px}.animate-next{animation:nextAnimation 1s ease-out}@keyframes nextAnimation{0%{transform:translate(0)}to{transform:translate(-100%)}}.animate-prev{animation:prevAnimation 1s ease-out}@keyframes prevAnimation{0%{transform:translate(-100%)}to{transform:translate(0)}}@media screen and (max-width: 1280px){.carousel-control-prev,.carousel-control-next{height:30px}.carousel-controls-top .icon{font-size:25px}.carousel-control-prev{left:10%}.carousel-control-next{right:10%}}@media only screen and (max-width: 830px){.column img{min-height:240px;min-width:240px}}@media screen and (max-width: 768px){.carousel-control-prev,.carousel-control-next{height:20px}.carousel-controls-top .icon{font-size:20px}.carousel-control-prev{left:5%}.carousel-control-next{right:5%}}@media only screen and (max-width: 450px){div.columns{display:flex;justify-content:center;overflow:hidden;width:81%}@keyframes nextAnimation{0%{transform:translate(50%)}to{transform:translate(-50%)}}@keyframes prevAnimation{0%{transform:translate(-50%)}to{transform:translate(50%)}}}\n"] }]
        }], ctorParameters: () => [], propDecorators: { carruselOculto: [{
                type: Output
            }], onResize: [{
                type: HostListener,
                args: ['window:resize', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FycnVzZWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY2FycnVzZWwvc3JjL2xpYi9jb21wb25lbnRzL2NhcnJ1c2VsL2NhcnJ1c2VsLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NhcnJ1c2VsL3NyYy9saWIvY29tcG9uZW50cy9jYXJydXNlbC9jYXJydXNlbC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFNBQVMsRUFBcUIsWUFBWSxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7OztBQVdqRyxNQUFNLE9BQU8saUJBQWlCO0lBZTVCO1FBYk8sYUFBUSxHQUFVLEVBQUUsQ0FBQztRQUVyQixnQkFBVyxHQUFZLEtBQUssQ0FBQztRQUM3QixnQkFBVyxHQUFZLEtBQUssQ0FBQztRQUU3QixjQUFTLEdBQVksS0FBSyxDQUFDO1FBQzNCLFdBQU0sR0FBWSxLQUFLLENBQUM7UUFDWCxtQkFBYyxHQUEwQixJQUFJLFlBQVksRUFBVyxDQUFDO1FBRWpGLFdBQU0sR0FBRztZQUNkLFNBQVMsRUFBRSxzQkFBc0I7U0FDbEMsQ0FBQTtJQUVlLENBQUM7SUFFVixRQUFRO1FBQ2IsSUFBSSxDQUFDLFNBQVMsR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFO1lBQ2hDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNuQixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFVCxJQUFJLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FBRyxFQUFFLENBQUM7WUFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDckIsQ0FBQzthQUFNLENBQUM7WUFDTixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUN0QixDQUFDO1FBRUQsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUMvQixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDdkIsQ0FBQztJQUNILENBQUM7SUFFTSxXQUFXO1FBQ2hCLGFBQWEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUdELFFBQVEsQ0FBQyxLQUFVO1FBQ2pCLElBQUksTUFBTSxDQUFDLFVBQVUsR0FBRyxHQUFHLEVBQUUsQ0FBQztZQUM1QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNyQixDQUFDO2FBQU0sQ0FBQztZQUNOLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLENBQUM7SUFDSCxDQUFDO0lBRU0sU0FBUztRQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDcEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7WUFDdEIsYUFBYSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUM5QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztZQUV4QixVQUFVLENBQUMsR0FBRyxFQUFFO2dCQUNkLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO2dCQUN6QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Z0JBRTFDLElBQUksQ0FBQyxTQUFTLEdBQUcsV0FBVyxDQUFDLEdBQUcsRUFBRTtvQkFDaEMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUNuQixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBRVQsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7WUFDekIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ1gsQ0FBQztJQUNILENBQUM7SUFFTSxTQUFTO1FBQ2QsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNwQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztZQUN0QixhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzlCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1lBRXhCLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztZQUUzQyxVQUFVLENBQUMsR0FBRyxFQUFFO2dCQUNkLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO2dCQUV6QixJQUFJLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUU7b0JBQ2hDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDbkIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUVULElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1lBQ3pCLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNYLENBQUM7SUFDSCxDQUFDO0lBRU0sU0FBUyxDQUFDLEtBQVU7UUFDekIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ25CLENBQUM7SUFFTSxVQUFVLENBQUMsS0FBVTtRQUMxQixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDbkIsQ0FBQztJQUVNLGFBQWE7UUFDbEIsTUFBTSxpQkFBaUIsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLHFCQUFxQixDQUFnQixDQUFDO1FBQ3ZGLElBQUksaUJBQWlCLEVBQUUsQ0FBQztZQUN0QixpQkFBaUIsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztZQUN6QyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQyxDQUFDO0lBQ0gsQ0FBQzsrR0FuR1UsaUJBQWlCO21HQUFqQixpQkFBaUIscUxDWjlCLGszRkEwREksbzdERG5EQSxZQUFZOzs0RkFLSCxpQkFBaUI7a0JBVDdCLFNBQVM7K0JBQ0UsY0FBYyxjQUNaLElBQUksV0FDUDt3QkFDUCxZQUFZO3FCQUNiO3dEQWFtQixjQUFjO3NCQUFqQyxNQUFNO2dCQTZCUCxRQUFRO3NCQURQLFlBQVk7dUJBQUMsZUFBZSxFQUFFLENBQUMsUUFBUSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIE9uRGVzdHJveSwgSG9zdExpc3RlbmVyLCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhcHAtY2FycnVzZWwnLFxyXG4gIHN0YW5kYWxvbmU6IHRydWUsXHJcbiAgaW1wb3J0czogW1xyXG4gICAgQ29tbW9uTW9kdWxlXHJcbiAgXSxcclxuICB0ZW1wbGF0ZVVybDogJy4vY2FycnVzZWwuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2NhcnJ1c2VsLmNvbXBvbmVudC5jc3MnXSxcclxufSlcclxuZXhwb3J0IGNsYXNzIENhcnJ1c2VsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xyXG5cclxuICBwdWJsaWMgY2FycnVzZWw6IGFueVtdID0gW107XHJcblxyXG4gIHB1YmxpYyBuZXh0U2xpZGluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHB1YmxpYyBwcmV2U2xpZGluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHB1YmxpYyBpbnRlcnZhbG86IGFueTtcclxuICBwdWJsaWMgYW5pbWF0aW5nOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHVibGljIHNjcmVlbjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBPdXRwdXQoKSBwcm90ZWN0ZWQgY2FycnVzZWxPY3VsdG86IEV2ZW50RW1pdHRlcjxib29sZWFuPiA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcclxuXHJcbiAgcHVibGljIGxhYmVscyA9IHtcclxuICAgIGNvbGVjY2lvbjogJ1Byb2R1Y3RvcyBkZXN0YWNhZG9zJ1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgcHVibGljIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5pbnRlcnZhbG8gPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHRoaXMubmV4dFNsaWRlKCk7XHJcbiAgICB9LCA1MDAwKTtcclxuXHJcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPiA0NTApIHtcclxuICAgICAgdGhpcy5zY3JlZW4gPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zY3JlZW4gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5jYXJydXNlbC5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhpcy5oaWRlQ29tcG9uZW50KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxvKTtcclxuICB9XHJcblxyXG4gIEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzpyZXNpemUnLCBbJyRldmVudCddKVxyXG4gIG9uUmVzaXplKGV2ZW50OiBhbnkpIHtcclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDQ1MCkge1xyXG4gICAgICB0aGlzLnNjcmVlbiA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNjcmVlbiA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIG5leHRTbGlkZSgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5hbmltYXRpbmcpIHtcclxuICAgICAgdGhpcy5hbmltYXRpbmcgPSB0cnVlO1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxvKTtcclxuICAgICAgdGhpcy5uZXh0U2xpZGluZyA9IHRydWU7XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLm5leHRTbGlkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYXJydXNlbC5wdXNoKHRoaXMuY2FycnVzZWwuc2hpZnQoKSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWxvID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5uZXh0U2xpZGUoKTtcclxuICAgICAgICB9LCA1MDAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgfSwgMTAwMCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcHJldlNsaWRlKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmFuaW1hdGluZykge1xyXG4gICAgICB0aGlzLmFuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbG8pO1xyXG4gICAgICB0aGlzLnByZXZTbGlkaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgIHRoaXMuY2FycnVzZWwudW5zaGlmdCh0aGlzLmNhcnJ1c2VsLnBvcCgpKTtcclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJldlNsaWRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbG8gPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLm5leHRTbGlkZSgpO1xyXG4gICAgICAgIH0sIDUwMDApO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGluZyA9IGZhbHNlO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBzd2lwZWxlZnQoZXZlbnQ6IGFueSkge1xyXG4gICAgdGhpcy5uZXh0U2xpZGUoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzd2lwZXJpZ2h0KGV2ZW50OiBhbnkpIHtcclxuICAgIHRoaXMucHJldlNsaWRlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaGlkZUNvbXBvbmVudCgpOiB2b2lkIHtcclxuICAgIGNvbnN0IGNhcm91c2VsQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWNvbnRhaW5lcicpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgaWYgKGNhcm91c2VsQ29udGFpbmVyKSB7XHJcbiAgICAgIGNhcm91c2VsQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgIHRoaXMuY2FycnVzZWxPY3VsdG8uZW1pdCh0cnVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG59IiwiPGRpdiBjbGFzcz1cImNhcm91c2VsLWNvbnRhaW5lciBjb2xlY2Npb25cIj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWwtY29udHJvbHMtdG9wXCI+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNhcm91c2VsLWNvbnRyb2wtcHJldlwiIHR5cGU9XCJidXR0b25cIiAoY2xpY2spPVwicHJldlNsaWRlKClcIiBbZGlzYWJsZWRdPVwiYW5pbWF0aW5nXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaWNvblwiPlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi1sZWZ0XCI+PC9pPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPGgxPnt7bGFiZWxzLmNvbGVjY2lvbn19PC9oMT5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY2Fyb3VzZWwtY29udHJvbC1uZXh0XCIgdHlwZT1cImJ1dHRvblwiIChjbGljayk9XCJuZXh0U2xpZGUoKVwiIFtkaXNhYmxlZF09XCJhbmltYXRpbmdcIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpY29uXCI+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1jaGV2cm9uLXJpZ2h0XCI+PC9pPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWwtaW5uZXJcIiAoc3dpcGVsZWZ0KT1cInN3aXBlbGVmdCgkZXZlbnQpXCIgKHN3aXBlcmlnaHQpPVwic3dpcGVyaWdodCgkZXZlbnQpXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbHVtbnMgbWF5b3JcIiAqbmdJZj1cInNjcmVlblwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sdW1uXCIgW25nQ2xhc3NdPVwieydhbmltYXRlLW5leHQnOiBuZXh0U2xpZGluZywgJ2FuaW1hdGUtcHJldic6IHByZXZTbGlkaW5nfVwiXHJcbiAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgc2xpZGUgb2YgY2FycnVzZWxcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvdmVybGF5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBbc3JjXT1cIidodHRwczovLycgKyBzbGlkZS5ydXRhSW1hZ2VuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0b1wiPnt7c2xpZGUuZGV0YWxsZX19PGJyPiR7e3NsaWRlLnByZWNpb319PC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sdW1ucyBtZW5vclwiICpuZ0lmPVwiIXNjcmVlblwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sdW1uXCIgW25nQ2xhc3NdPVwieydhbmltYXRlLW5leHQnOiBuZXh0U2xpZGluZywgJ2FuaW1hdGUtcHJldic6IHByZXZTbGlkaW5nfVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm92ZXJsYXlcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIFtzcmNdPVwiJ2h0dHBzOi8vJyArIGNhcnJ1c2VsWzBdLnJ1dGFJbWFnZW5cIj5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHRvXCI+e3tjYXJydXNlbFswXS5kZXRhbGxlfX08YnI+JHt7Y2FycnVzZWxbMF0ucHJlY2lvfX08L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2x1bW5cIiBbbmdDbGFzc109XCJ7J2FuaW1hdGUtbmV4dCc6IG5leHRTbGlkaW5nLCAnYW5pbWF0ZS1wcmV2JzogcHJldlNsaWRpbmd9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwib3ZlcmxheVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgW3NyY109XCInaHR0cHM6Ly8nICsgY2FycnVzZWxbMV0ucnV0YUltYWdlblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dG9cIj57e2NhcnJ1c2VsWzFdLmRldGFsbGV9fTxicj4ke3tjYXJydXNlbFsxXS5wcmVjaW99fTwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbHVtblwiIFtuZ0NsYXNzXT1cInsnYW5pbWF0ZS1uZXh0JzogbmV4dFNsaWRpbmcsICdhbmltYXRlLXByZXYnOiBwcmV2U2xpZGluZ31cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvdmVybGF5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBbc3JjXT1cIidodHRwczovLycgKyBjYXJydXNlbFsyXS5ydXRhSW1hZ2VuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0b1wiPnt7Y2FycnVzZWxbMl0uZGV0YWxsZX19PGJyPiR7e2NhcnJ1c2VsWzJdLnByZWNpb319PC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sdW1uXCIgW25nQ2xhc3NdPVwieydhbmltYXRlLW5leHQnOiBuZXh0U2xpZGluZywgJ2FuaW1hdGUtcHJldic6IHByZXZTbGlkaW5nfVwiXHJcbiAgICAgICAgICAgICAgICAqbmdJZj1cIm5leHRTbGlkaW5nIHx8IHByZXZTbGlkaW5nXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwib3ZlcmxheVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgW3NyY109XCInaHR0cHM6Ly8nICsgY2FycnVzZWxbM10ucnV0YUltYWdlblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dG9cIj57e2NhcnJ1c2VsWzNdLmRldGFsbGV9fTxicj4ke3tjYXJydXNlbFszXS5wcmVjaW99fTwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG5cclxuPC9kaXY+XHJcblxyXG48YnI+Il19