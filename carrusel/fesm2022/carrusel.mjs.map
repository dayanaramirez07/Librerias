{"version":3,"file":"carrusel.mjs","sources":["../../../projects/carrusel/src/lib/components/carrusel/carrusel.component.ts","../../../projects/carrusel/src/lib/components/carrusel/carrusel.component.html","../../../projects/carrusel/src/public-api.ts","../../../projects/carrusel/src/carrusel.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { Component, OnInit, OnDestroy, HostListener, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-carrusel',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  templateUrl: './carrusel.component.html',\r\n  styleUrls: ['./carrusel.component.css'],\r\n})\r\nexport class CarruselComponent implements OnInit, OnDestroy {\r\n\r\n  public carrusel: any[] = [];\r\n\r\n  public nextSliding: boolean = false;\r\n  public prevSliding: boolean = false;\r\n  public intervalo: any;\r\n  public animating: boolean = false;\r\n  public screen: boolean = false;\r\n  @Output() protected carruselOculto: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  public labels = {\r\n    coleccion: 'Productos destacados'\r\n  }\r\n\r\n  constructor() { }\r\n\r\n  public ngOnInit(): void {\r\n    this.intervalo = setInterval(() => {\r\n      this.nextSlide();\r\n    }, 5000);\r\n\r\n    if (window.innerWidth > 450) {\r\n      this.screen = true;\r\n    } else {\r\n      this.screen = false;\r\n    }\r\n\r\n    if (this.carrusel.length === 0) {\r\n      this.hideComponent();\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    clearInterval(this.intervalo);\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(event: any) {\r\n    if (window.innerWidth > 450) {\r\n      this.screen = true;\r\n    } else {\r\n      this.screen = false;\r\n    }\r\n  }\r\n\r\n  public nextSlide(): void {\r\n    if (!this.animating) {\r\n      this.animating = true;\r\n      clearInterval(this.intervalo);\r\n      this.nextSliding = true;\r\n\r\n      setTimeout(() => {\r\n        this.nextSliding = false;\r\n        this.carrusel.push(this.carrusel.shift());\r\n\r\n        this.intervalo = setInterval(() => {\r\n          this.nextSlide();\r\n        }, 5000);\r\n\r\n        this.animating = false;\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  public prevSlide(): void {\r\n    if (!this.animating) {\r\n      this.animating = true;\r\n      clearInterval(this.intervalo);\r\n      this.prevSliding = true;\r\n\r\n      this.carrusel.unshift(this.carrusel.pop());\r\n\r\n      setTimeout(() => {\r\n        this.prevSliding = false;\r\n\r\n        this.intervalo = setInterval(() => {\r\n          this.nextSlide();\r\n        }, 5000);\r\n\r\n        this.animating = false;\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  public swipeleft(event: any) {\r\n    this.nextSlide();\r\n  }\r\n\r\n  public swiperight(event: any) {\r\n    this.prevSlide();\r\n  }\r\n\r\n  public hideComponent(): void {\r\n    const carouselContainer = document.querySelector('.carousel-container') as HTMLElement;\r\n    if (carouselContainer) {\r\n      carouselContainer.style.display = 'none';\r\n      this.carruselOculto.emit(true);\r\n    }\r\n  }\r\n\r\n}","<div class=\"carousel-container coleccion\">\r\n\r\n    <div class=\"carousel-controls-top\">\r\n        <button class=\"carousel-control-prev\" type=\"button\" (click)=\"prevSlide()\" [disabled]=\"animating\">\r\n            <span class=\"icon\">\r\n                <i class=\"fas fa-chevron-left\"></i>\r\n            </span>\r\n        </button>\r\n        <h1>{{labels.coleccion}}</h1>\r\n        <button class=\"carousel-control-next\" type=\"button\" (click)=\"nextSlide()\" [disabled]=\"animating\">\r\n            <span class=\"icon\">\r\n                <i class=\"fas fa-chevron-right\"></i>\r\n            </span>\r\n        </button>\r\n    </div>\r\n\r\n    <div class=\"carousel-inner\" (swipeleft)=\"swipeleft($event)\" (swiperight)=\"swiperight($event)\">\r\n        <div class=\"columns mayor\" *ngIf=\"screen\">\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\"\r\n                *ngFor=\"let slide of carrusel\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + slide.rutaImagen\">\r\n                    <p class=\"texto\">{{slide.detalle}}<br>${{slide.precio}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"columns menor\" *ngIf=\"!screen\">\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + carrusel[0].rutaImagen\">\r\n                    <p class=\"texto\">{{carrusel[0].detalle}}<br>${{carrusel[0].precio}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + carrusel[1].rutaImagen\">\r\n                    <p class=\"texto\">{{carrusel[1].detalle}}<br>${{carrusel[1].precio}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + carrusel[2].rutaImagen\">\r\n                    <p class=\"texto\">{{carrusel[2].detalle}}<br>${{carrusel[2].precio}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"column\" [ngClass]=\"{'animate-next': nextSliding, 'animate-prev': prevSliding}\"\r\n                *ngIf=\"nextSliding || prevSliding\">\r\n                <div class=\"overlay\">\r\n                    <img [src]=\"'https://' + carrusel[3].rutaImagen\">\r\n                    <p class=\"texto\">{{carrusel[3].detalle}}<br>${{carrusel[3].precio}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<br>","/*\r\n * Public API Surface of carrusel\r\n */\r\n\r\nexport * from './lib/components/carrusel/carrusel.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}